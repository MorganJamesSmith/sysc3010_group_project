{% extends "base.html" %}
{% block content %}
<script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>

<div>
    <h1>Settings</h1>
    <form action="/settings" method="post">
        <label for="setting">Maximum Occupancy:</label><br>
        <input type="text" id="maximum_occupancy" name="maximum_occupancy" value="{{ max_occ }}"><br>

        <label for="setting">Minimum User Temperature:</label><br>
        <input type="text" id="min_user_temp" name="min_user_temp" value="{{ min_temp }}"><br>
        <label for="setting">Maximum User Temperature</label><br>
        <input type="text" id="max_user_temp" name="max_user_temp" value="{{ max_temp }}"><br>
        <br>
        <input type="submit" value="Update">
    </form>
</div>

<script type="text/javascript">
    $(document).ready(function() {
        var socket = io();
        socket.on('settings', function(msg) {
            console.log(msg);
            if (msg == "refresh") {
                //location.reload();
            }
        });
    });
</script>
{% endblock %}
