\subsection{Deployment Diagram}

\includegraphics[width=\textwidth]{figures/deployment.png}

\subsection{Communication Between Nodes}
The door nodes will communicate with with the control server using ThingSpeak.
They will send send messages to the control server on each user interaction and
the control server will provide information to them on whether users should be
granted access and what the door node's LED should show.

\subsection{Door Nodes}
The door nodes are Raspberry Pis that are set up in headless mode. The door
nodes are the  main points of interaction for the system, they have an NFC
security badge reader, an infrared temperature sensor and an electronic lock
actuator. An LED is connected to each of the door nodes that can be illuminated
in red or green to indicate whether people are allowed to enter the area.

% \subsubsection{Hardware Block Diagram for Door Hardware}

\subsubsection{Usage Diagram for Door}

\includegraphics[width=\textwidth]{figures/door_interface.png}

\subsubsection{Sensors}
The infrared temperature sensor is central to the safety of the location
and why the system exists. It can measure the temperature of an individual
without physically touching them. The temperature information will be
communicated to the control server which can use it to determine if the users
has a fever and, if they do, will deny them access.

The NFC security badge reader is used to identify users. The control server will
keep track of users, including their access permissions and history of possible
symptoms, based on their security badges.

\subsubsection{Actuator}
The door will be unlocked by the electronic lock actuator that is attached to 
the door that receives a signal upon permission being granted by the control server. 
It will still require the physical opening of the door which means
that hand sanitizer will be provided. The electronic lock by default 
will not open entering the building or leaving it. 
However there are fail safes so that if there is a power outage or emergency 
it can be either kept locked or unlocked.

\subsection{Control Server}
The control server will be a Raspberry Pi connected to a monitor, keyboard and
mouse. The control server will maintain the database and will be responsible for
makeing descisions on whether to grant access to individuals based on the
configured access controls, the sensor data reported by the door nodes and the 
number of people currently in an area. 

The control server will also have a user interface that can be used for managing
the system.

\subsubsection{Database}
The database will contain the information about the individuals with valid
security badges. The database records will inculde information the temperature
measurments and the times at which people entered and leaft the building as well
as information about the access policy for entering the building.

\subsubsection{Graphical User Interface}
The Graphical User Interface (GUI) of the control server will appear as a table
with menus for options for the operator to view and interact with the database 
and the control server in a visually clear fashion. 
This includes being able to set ranges for temperature, 
override the current LED colours and approving quarantining.


