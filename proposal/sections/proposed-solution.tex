\subsection{Deployment Diagram}

\includegraphics[width=\textwidth]{figures/deployment.png}

\subsection{Communication Between Nodes}
The door nodes will be communicating with one another using ThingSpeak. The door nodes
do not communicate between themselves, instead all communication is done through the control server. The door nodes send data for the server to put into their database and based off of the event the server will communicate what is the proper response for the door nodes.

\subsection{Door Nodes}
The door nodes are Raspberry Pis that are set up in headless mode. These door nodes are the 
points of interaction with the system for all but the operator that will be utilizing the control server.
They are connected to an Near Field Communication(NFC) security badge reader, an infrared
temperature sensor and an electronic lock actuator. They will
not allow the doors to be opened if the building has reached the occupancy limit. 
As well, as if the temperature is above the approved limit set by the control server. 
If the temperature test comes back over the limit three times, the control server will be given an option to
prohibit access to the building for the user of the security badge until a quarantine period ends. 
An LED is hooked up to each of the door nodes that will be green if people are allowed to enter. 
The LED will however shine red if the building is not allowing people to enter the door.

% ID card -> NFC security badge
% card reader -> NFC security badge reader
% temperature probe -> infrared temperature sensor
% door opener -> electronic lock

% \subsubsection{Hardware Block Diagram for Door Hardware}

\subsubsection{Usage Diagram for Door}

\includegraphics[width=\textwidth]{figures/door_interface.png}

\subsubsection{Sensors}
The infrared temperature sensor that will be used is central to the safety of the location
and why the system exists. It will measure the temperature of the individual
without physically touching them that will be communicated to the computer which
has a program to determine if they have a fever which will not allow them to go
through the door. If the temperature is within the acceptable range it will
inform the door node to open and if it's below the acceptable range that will
currently be determined to be the ambient temperature and keep the door closed
as well. An NFC system will be used with security badges that will inform the door node
which can check if the individual should currently be in quarantine, if they
don't have a valid security badge or if there have been enough other
security badges that have been
swiped that the building is at maximum capacity.

\subsubsection{Actuator}
The door will open from an actuator that is attached to the door and will be
activated upon permission being granted by the control server. It will open with a
pressure that is set as to not hurt individuals or individuals with children if
the time they take to enter the door after it opens exceeds the default time.
This is also to prevent any theoretical people on the other side of the door
from being harmed by the door swinging open.

\subsection{Control Server}
The control server will be a Raspberry Pi connected to a monitor, keyboard and
mouse. It will be where the operator of the security system can modify the
acceptable range of temperatures and view the database for themselves as well as
revoke access to those whose temperatures are at a high enough level that they
will be asked to quarantine.

\subsubsection{Database}
The database will contain the information about the individuals with valid
security badges. This information includes records of the infrared temperature sensors and the times of entering and leaving the building.

\subsubsection{Graphical User Interface}
The Graphical User Interface (GUI) of the control server will appear as a table
with an option to open up a pop-up to unilaterally turn on the red light for any
of the door nodes as well as a pop up to change the acceptable temperature
range. There will be a notification sidebar which will list the individuals who
have had three temperatures above the temperature range limits in a row with an
option to allow that indiviudal to have access again with an O and to not allow
them to be access for 14 days as a quarantine period with an X. In the
spreadsheet, the operator can manually override these options if it is deemed
necessary by them.

