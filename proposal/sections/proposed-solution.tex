\subsection{Deployment Diagram}

\includegraphics[width=\textwidth]{figures/deployment.png}

\subsection{Communication Between Nodes}
The door nodes will communicate with with the control server using ThingSpeak.
They will send send messages to the control server on each user interaction and
the control server will provide information to them on whether users should be
granted access and what the door node's LED should show.

\subsection{Door Nodes}
The door nodes are Raspberry Pis that are set up in headless mode. The door
nodes are the  main points of interaction for the system, they have an NFC
security badge reader, an infrared temperature sensor and an electronic lock
actuator. An LED is connected to each of the door nodes that can be illuminated
in red or green to indicate whether people are allowed to enter the area.

% \subsubsection{Hardware Block Diagram for Door Hardware}

\subsubsection{Usage Diagram for Door}

\includegraphics[width=\textwidth]{figures/door_interface.png}

\subsubsection{Sensors}
The infrared temperature sensor is central to the safety of the location
and why the system exists. It can measure the temperature of an individual
without physically touching them. The temperature information will be
communicated to the control server which can use it to determine if the users
has a fever and, if they do, will deny them access.

The NFC security badge reader is used to identify users. The control server will
keep track of users, including their access permissions and history of possible
symptoms, based on their security badges.

\subsubsection{Actuator}
The door will open from an actuator that is attached to the door and will be
activated upon permission being granted by the control server. It will open with a
pressure that is set as to not hurt individuals or individuals with children if
the time they take to enter the door after it opens exceeds the default time.
This is also to prevent any theoretical people on the other side of the door
from being harmed by the door swinging open.

\subsection{Control Server}
The control server will be a Raspberry Pi connected to a monitor, keyboard and
mouse. The control server will maintain the database and will be responsible for
makeing descisions on whether to grant access to individuals based on the
configured access controls, the sensor data reported by the door nodes and the 
number of people currently in an area. 

The control server will also have a user interface that can be used for managing
the system.

\subsubsection{Database}
The database will contain the information about the individuals with valid
security badges. The database records will inculde information the temperature
measurments and the times at which people entered and leaft the building as well
as information about the access policy for entering the building.

\subsubsection{Graphical User Interface}
The Graphical User Interface (GUI) of the control server will appear as a table
with an option to open up a pop-up to unilaterally turn on the red light for any
of the door nodes as well as a pop up to change the acceptable temperature
range. There will be a notification sidebar which will list the individuals who
have had three temperatures above the temperature range limits in a row with an
option to allow that indiviudal to have access again with an O and to not allow
them to be access for 14 days as a quarantine period with an X. In the
spreadsheet, the operator can manually override these options if it is deemed
necessary by them.

